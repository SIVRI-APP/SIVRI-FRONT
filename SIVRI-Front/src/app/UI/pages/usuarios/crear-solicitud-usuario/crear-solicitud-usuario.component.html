<form [formGroup]="crearForm" (ngSubmit)="onSubmit()" method="get">

    <div class="filter-box">

        <!-- Formulario de Creacion -->
        <div class="row">
            <div class="col-sm">
                <label for="correo" class="etiqueta-form"><strong>Correo</strong></label>
                <input id="correo" name="correo" class="form-control" type="email" placeholder="Correo"
                    formControlName="correo">
            </div>

            <div class="col-sm">
                <label for="tipoDocumento" class="etiqueta-form"><strong>Tipo de Documento</strong></label>
                <select id="tipoDocumento" name="tipoDocumento" class="form-select" formControlName="tipoDocumento">
                    <option value="" disabled selected hidden>Tipo de Documento</option>
                    @for (key of getKeys(tipoDocumentoEnum); track $index) {
                    <option [value]="key">{{getValueByKey(tipoDocumentoEnum, key)}}</option>
                    }
                </select>
            </div>

            <div class="col-sm">
                <label for="numeroDocumento" class="etiqueta-form"><strong>Numero de Documento</strong></label>
                <input id="numeroDocumento" name="numeroDocumento" class="form-control" type="text"
                    placeholder="Numero de Documento" formControlName="numeroDocumento">
            </div>

            <div class="col-sm">
                <label for="sexo" class="etiqueta-form"><strong>Sexo</strong></label>
                <select id="sexo" name="sexo" class="form-select" formControlName="sexo">
                    <option value="" disabled selected hidden>Sexo</option>
                    @for (key of getKeys(sexoEnum); track $index) {
                    <option [value]="key">{{getValueByKey(sexoEnum, key)}}</option>
                    }
                </select>
            </div>
        </div>

        <div class="row">
            <div class="col-sm">
                <label for="tipoUsuario" class="etiqueta-form"><strong>Tipo Usuario</strong></label>
                <select id="tipoUsuario" name="tipoUsuario" class="form-select" formControlName="tipoUsuario">
                    <option value="" disabled selected hidden>Tipo de Usuario</option>
                    @for (key of getKeys(tipoUsuarioEnum); track $index) {
                    <option [value]="key">{{getValueByKey(tipoUsuarioEnum, key)}}</option>
                    }
                </select>
            </div>

            <div class="col-sm">
                <label for="nombre" class="etiqueta-form"><strong>Nombres</strong></label>
                <input id="nombre" name="nombre" class="form-control" type="text" placeholder="Nombres"
                    formControlName="nombre">
            </div>

            <div class="col-sm">
                <label for="apellido" class="etiqueta-form"><strong>Apellidos</strong></label>
                <input id="apellido" name="apellido" class="form-control" type="text" placeholder="Apellidos"
                    formControlName="apellido">
            </div>

            <div class="col-sm">
                <label for="telefono" class="etiqueta-form"><strong>Telefono</strong></label>
                <input id="telefono" name="telefono" class="form-control" type="text" placeholder="Telefono"
                    formControlName="telefono">
            </div>
        </div>

        <div class="row">
            <div class="col-sm">
                <label for="cvLac" class="etiqueta-form"><strong>cvLac</strong></label>
                <input id="cvLac" name="cvLac" class="form-control" type="text" placeholder="cvLac"
                    formControlName="cvLac">
            </div>

            <div class="col-sm">
                <label for="nota" class="etiqueta-form"><strong>Nota</strong></label>
                <input id="nota" name="nota" class="form-control" type="text" placeholder="Nota" formControlName="nota">
            </div>

            <!-- TODO MIGUEL Select con la lista de programas -->
            <!-- TODO MIGUEL Select con la lista de organismos de investigacion -->
            <!-- TODO MIGUEL Select con la lista de roles disponibles de ese organismo de investigacion -->
        </div>

        <div class="row">
            <div class="m-0 border-0">
                <button type="button" class="limpiar" (click)="limpiarCampos()"><i
                        class="bi bi-eraser-fill"></i>Limpiar</button>
                <button type="submit" class="filtrar" data-bs-target="#gestionConvocatorias-agregarDocumento" data-bs-toggle="modal"><i class="bi bi-floppy-fill"></i>Crear</button>
            </div>
        </div>

        <div class="form-guide-line"></div>
    </div>

</form>



<!-- Modal -->
<div class="modal fade" role="dialog" tabindex="-1" #elementoModal>
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Agregar Documento a la Convocatoria</h4><button class="btn-close" type="button"
                    aria-label="Close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="row">
                        <div class="col"><label class="form-label">Tipo de Documento</label><select class="form-select">
                                <optgroup label="Documentos Iniciales">
                                    <option value="12" selected="">Acta de Inicio </option>
                                    <option value="13">Acta de Constitucion</option>
                                </optgroup>
                                <optgroup label="Documentos Intermedios">
                                    <option value="">Informe Parcial</option>
                                </optgroup>
                                <optgroup label="Documentos Finales">
                                    <option value="">Informe Final</option>
                                    <option value="" selected=""></option>
                                </optgroup>
                            </select></div>
                        <div class="col-xl-4 text-center"><label class="form-label">¿Obligatorio?</label><select
                                class="form-select">
                                <optgroup label="¿Es el documento Obligatorio?">
                                    <option value="">Si</option>
                                    <option value="">No</option>
                                    <option value="" selected=""></option>
                                </optgroup>
                            </select></div>
                    </div>
                    <div class="row" style="margin-top: 20px;">
                        <div class="col text-end"><button class="btn btn-primary" type="button">Agregar
                                Documento</button></div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>